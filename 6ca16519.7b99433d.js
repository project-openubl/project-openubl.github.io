(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{123:function(e,n,c){"use strict";c.d(n,"a",(function(){return l})),c.d(n,"b",(function(){return p}));var t=c(0),a=c.n(t);function i(e,n,c){return n in e?Object.defineProperty(e,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[n]=c,e}function o(e,n){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),c.push.apply(c,t)}return c}function r(e){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?o(Object(c),!0).forEach((function(n){i(e,n,c[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(c,n))}))}return e}function u(e,n){if(null==e)return{};var c,t,a=function(e,n){if(null==e)return{};var c,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)c=i[t],n.indexOf(c)>=0||(a[c]=e[c]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)c=i[t],n.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}var s=a.a.createContext({}),m=function(e){var n=a.a.useContext(s),c=n;return e&&(c="function"==typeof e?e(n):r(r({},n),e)),c},l=function(e){var n=m(e.components);return a.a.createElement(s.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},d=a.a.forwardRef((function(e,n){var c=e.components,t=e.mdxType,i=e.originalType,o=e.parentName,s=u(e,["components","mdxType","originalType","parentName"]),l=m(c),d=t,p=l["".concat(o,".").concat(d)]||l[d]||b[d]||i;return c?a.a.createElement(p,r(r({ref:n},s),{},{components:c})):a.a.createElement(p,r({ref:n},s))}));function p(e,n){var c=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=c.length,o=new Array(i);o[0]=d;var r={};for(var u in n)hasOwnProperty.call(n,u)&&(r[u]=n[u]);r.originalType=e,r.mdxType="string"==typeof e?e:t,o[1]=r;for(var s=2;s<i;s++)o[s]=c[s];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,c)}d.displayName="MDXCreateElement"},81:function(e,n,c){"use strict";c.r(n),c.d(n,"frontMatter",(function(){return o})),c.d(n,"metadata",(function(){return r})),c.d(n,"rightToc",(function(){return u})),c.d(n,"default",(function(){return m}));var t=c(2),a=c(7),i=(c(0),c(123)),o={title:"Example"},r={unversionedId:"xbuilder/library/gettingStarted",id:"xbuilder/library/gettingStarted",isDocsHomePage:!1,title:"Example",description:"Every time you want to create a XML file based on UBL you need to have 3 things:",source:"@site/docs/xbuilder/library/gettingStarted.md",slug:"/xbuilder/library/gettingStarted",permalink:"/docs/xbuilder/library/gettingStarted",editUrl:"https://github.com/project-openubl/website/edit/master/docs/xbuilder/library/gettingStarted.md",version:"current",sidebar:"xbuilder",previous:{title:"Installation",permalink:"/docs/xbuilder/library/installation"},next:{title:"Concepts",permalink:"/docs/xbuilder/library/concepts"}},u=[{value:"Create invoice",id:"create-invoice",children:[]},{value:"Sign XML",id:"sign-xml",children:[]}],s={rightToc:u};function m(e){var n=e.components,c=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},s,c,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Every time you want to create a XML file based on UBL you need to have 3 things:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Config")," - Default values to apply in case those values are not defined by the user."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"System clock")," - A clock which should give the current system time and the time zone."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"POJO"),"- The POJO which contains the data to be used to create the XML file.")),Object(i.b)("h2",{id:"create-invoice"},"Create invoice"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'// Create the Config\nConfig config = new DefaultConfig();\n\n// Create the SystemClock\nSystemClock clock = new SystemClock() {\n    @Override\n    public TimeZone getTimeZone() {\n        return TimeZone.getTimeZone("America/Lima");\n    }\n\n    @Override\n    public Calendar getCalendarInstance() {\n        return Calendar.getInstance();\n    }\n};\n\n// Create the POJO\nInvoiceInputModel input = InvoiceInputModel.Builder.anInvoiceInputModel()\n    .withSerie("F001")\n    .withNumero(1)\n    .withProveedor(ProveedorInputModel.Builder.aProveedorInputModel()\n            .withRuc("12345678912")\n            .withRazonSocial("Softgreen S.A.C.")\n            .build()\n    )\n    .withCliente(ClienteInputModel.Builder.aClienteInputModel()\n            .withNombre("Carlos Feria")\n            .withNumeroDocumentoIdentidad("12121212121")\n            .withTipoDocumentoIdentidad(Catalog6.RUC.toString())\n            .build()\n    )\n    .withDetalle(Arrays.asList(\n            DocumentLineInputModel.Builder.aDocumentLineInputModel()\n                    .withDescripcion("Item1")\n                    .withCantidad(new BigDecimal(10))\n                    .withPrecioUnitario(new BigDecimal(100))\n                    .build(),\n            DocumentLineInputModel.Builder.aDocumentLineInputModel()\n                    .withDescripcion("Item2")\n                    .withCantidad(new BigDecimal(10))\n                    .withPrecioUnitario(new BigDecimal(100))\n                    .build())\n    )\n    .build();\n\n// Create Invoice\nDocumentWrapper<InvoiceOutputModel> result = DocumentManager.createXML(input, config, systemClock);\n\nInvoiceOutputModel output = result.getOutput(); // XML Var values\nString xml = result.getXml(); // XML content\n')),Object(i.b)("p",null,"The content of the variable ",Object(i.b)("inlineCode",{parentName:"p"},"xml")," will be:"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="UTF-8"?>\n<Invoice xmlns="urn:oasis:names:specification:ubl:schema:xsd:Invoice-2" xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2" xmlns:ccts="urn:un:unece:uncefact:documentation:2" xmlns:cec="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:ext="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2" xmlns:qdt="urn:oasis:names:specification:ubl:schema:xsd:QualifiedDatatypes-2" xmlns:sac="urn:sunat:names:specification:ubl:peru:schema:xsd:SunatAggregateComponents-1" xmlns:udt="urn:un:unece:uncefact:data:specification:UnqualifiedDataTypesSchemaModule:2" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <ext:UBLExtensions>\n      <ext:UBLExtension>\n         <ext:ExtensionContent />\n      </ext:UBLExtension>\n   </ext:UBLExtensions>\n   <cbc:UBLVersionID>2.1</cbc:UBLVersionID>\n   <cbc:CustomizationID>2.0</cbc:CustomizationID>\n   <cbc:ID>F001-1</cbc:ID>\n   <cbc:IssueDate>2019-12-24</cbc:IssueDate>\n   <cbc:IssueTime>20:30:59</cbc:IssueTime>\n   <cbc:InvoiceTypeCode listID="0101" listAgencyName="PE:SUNAT" listName="SUNAT:Identificador de Tipo de Documento" listURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo01">01</cbc:InvoiceTypeCode>\n   <cbc:DocumentCurrencyCode listID="ISO 4217 Alpha" listAgencyName="United Nations Economic Commission for Europe" listName="Currency">PEN</cbc:DocumentCurrencyCode>\n   <cac:Signature>\n      <cbc:ID>12345678912</cbc:ID>\n      <cac:SignatoryParty>\n         <cac:PartyIdentification>\n            <cbc:ID>12345678912</cbc:ID>\n         </cac:PartyIdentification>\n         <cac:PartyName>\n            <cbc:Name><![CDATA[Softgreen S.A.C.]]></cbc:Name>\n         </cac:PartyName>\n      </cac:SignatoryParty>\n      <cac:DigitalSignatureAttachment>\n         <cac:ExternalReference>\n            <cbc:URI>#PROJECT-OPENUBL-SIGN</cbc:URI>\n         </cac:ExternalReference>\n      </cac:DigitalSignatureAttachment>\n   </cac:Signature>\n   <cac:AccountingSupplierParty>\n      <cac:Party>\n         <cac:PartyIdentification>\n            <cbc:ID schemeID="6" schemeAgencyName="PE:SUNAT" schemeName="SUNAT:Identificador de Documento de Identidad" schemeURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo06">12345678912</cbc:ID>\n         </cac:PartyIdentification>\n         <cac:PartyLegalEntity>\n            <cbc:RegistrationName><![CDATA[Softgreen S.A.C.]]></cbc:RegistrationName>\n         </cac:PartyLegalEntity>\n      </cac:Party>\n   </cac:AccountingSupplierParty>\n   <cac:AccountingCustomerParty>\n      <cac:Party>\n         <cac:PartyIdentification>\n            <cbc:ID schemeID="6" schemeAgencyName="PE:SUNAT" schemeName="SUNAT:Identificador de Documento de Identidad" schemeURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo06">12121212121</cbc:ID>\n         </cac:PartyIdentification>\n         <cac:PartyLegalEntity>\n            <cbc:RegistrationName><![CDATA[Carlos Feria]]></cbc:RegistrationName>\n         </cac:PartyLegalEntity>\n      </cac:Party>\n   </cac:AccountingCustomerParty>\n   <cac:TaxTotal>\n      <cbc:TaxAmount currencyID="PEN">360</cbc:TaxAmount>\n      <cac:TaxSubtotal>\n         <cbc:TaxableAmount currencyID="PEN">2000</cbc:TaxableAmount>\n         <cbc:TaxAmount currencyID="PEN">360</cbc:TaxAmount>\n         <cac:TaxCategory>\n            <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifie">S</cbc:ID>\n            <cac:TaxScheme>\n               <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">1000</cbc:ID>\n               <cbc:Name>IGV</cbc:Name>\n               <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>\n            </cac:TaxScheme>\n         </cac:TaxCategory>\n      </cac:TaxSubtotal>\n   </cac:TaxTotal>\n   <cac:LegalMonetaryTotal>\n      <cbc:LineExtensionAmount currencyID="PEN">2000</cbc:LineExtensionAmount>\n      <cbc:TaxInclusiveAmount currencyID="PEN">2360</cbc:TaxInclusiveAmount>\n      <cbc:PayableAmount currencyID="PEN">2360</cbc:PayableAmount>\n   </cac:LegalMonetaryTotal>\n   <cac:InvoiceLine>\n      <cbc:ID>1</cbc:ID>\n      <cbc:InvoicedQuantity unitCode="NIU" unitCodeListAgencyName="United Nations Economic Commission for Europe" unitCodeListID="UN/ECE rec 20">10</cbc:InvoicedQuantity>\n      <cbc:LineExtensionAmount currencyID="PEN">1000</cbc:LineExtensionAmount>\n      <cac:PricingReference>\n         <cac:AlternativeConditionPrice>\n            <cbc:PriceAmount currencyID="PEN">118</cbc:PriceAmount>\n            <cbc:PriceTypeCode listAgencyName="PE:SUNAT" listName="SUNAT:Indicador de Tipo de Precio" listURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo16">01</cbc:PriceTypeCode>\n         </cac:AlternativeConditionPrice>\n      </cac:PricingReference>\n      <cac:TaxTotal>\n         <cbc:TaxAmount currencyID="PEN">180</cbc:TaxAmount>\n         <cac:TaxSubtotal>\n            <cbc:TaxableAmount currencyID="PEN">1000</cbc:TaxableAmount>\n            <cbc:TaxAmount currencyID="PEN">180</cbc:TaxAmount>\n            <cac:TaxCategory>\n               <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifier">S</cbc:ID>\n               <cbc:Percent>18</cbc:Percent>\n               <cbc:TaxExemptionReasonCode listAgencyName="PE:SUNAT" listName="SUNAT:Codigo de Tipo de Afectacion del IGV" listURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo07">10</cbc:TaxExemptionReasonCode>\n               <cac:TaxScheme>\n                  <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">1000</cbc:ID>\n                  <cbc:Name>IGV</cbc:Name>\n                  <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>\n               </cac:TaxScheme>\n            </cac:TaxCategory>\n         </cac:TaxSubtotal>\n      </cac:TaxTotal>\n      <cac:Item>\n         <cbc:Description><![CDATA[Item1]]></cbc:Description>\n      </cac:Item>\n      <cac:Price>\n         <cbc:PriceAmount currencyID="PEN">100</cbc:PriceAmount>\n      </cac:Price>\n   </cac:InvoiceLine>\n   <cac:InvoiceLine>\n      <cbc:ID>2</cbc:ID>\n      <cbc:InvoicedQuantity unitCode="NIU" unitCodeListAgencyName="United Nations Economic Commission for Europe" unitCodeListID="UN/ECE rec 20">10</cbc:InvoicedQuantity>\n      <cbc:LineExtensionAmount currencyID="PEN">1000</cbc:LineExtensionAmount>\n      <cac:PricingReference>\n         <cac:AlternativeConditionPrice>\n            <cbc:PriceAmount currencyID="PEN">118</cbc:PriceAmount>\n            <cbc:PriceTypeCode listAgencyName="PE:SUNAT" listName="SUNAT:Indicador de Tipo de Precio" listURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo16">01</cbc:PriceTypeCode>\n         </cac:AlternativeConditionPrice>\n      </cac:PricingReference>\n      <cac:TaxTotal>\n         <cbc:TaxAmount currencyID="PEN">180</cbc:TaxAmount>\n         <cac:TaxSubtotal>\n            <cbc:TaxableAmount currencyID="PEN">1000</cbc:TaxableAmount>\n            <cbc:TaxAmount currencyID="PEN">180</cbc:TaxAmount>\n            <cac:TaxCategory>\n               <cbc:ID schemeAgencyName="United Nations Economic Commission for Europe" schemeID="UN/ECE 5305" schemeName="Tax Category Identifier">S</cbc:ID>\n               <cbc:Percent>18</cbc:Percent>\n               <cbc:TaxExemptionReasonCode listAgencyName="PE:SUNAT" listName="SUNAT:Codigo de Tipo de Afectacion del IGV" listURI="urn:pe:gob:sunat:cpe:see:gem:catalogos:catalogo07">10</cbc:TaxExemptionReasonCode>\n               <cac:TaxScheme>\n                  <cbc:ID schemeAgencyName="PE:SUNAT" schemeID="UN/ECE 5153" schemeName="Codigo de tributos">1000</cbc:ID>\n                  <cbc:Name>IGV</cbc:Name>\n                  <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>\n               </cac:TaxScheme>\n            </cac:TaxCategory>\n         </cac:TaxSubtotal>\n      </cac:TaxTotal>\n      <cac:Item>\n         <cbc:Description><![CDATA[Item2]]></cbc:Description>\n      </cac:Item>\n      <cac:Price>\n         <cbc:PriceAmount currencyID="PEN">100</cbc:PriceAmount>\n      </cac:Price>\n   </cac:InvoiceLine>\n</Invoice>\n')),Object(i.b)("h2",{id:"sign-xml"},"Sign XML"),Object(i.b)("p",null,"For signing a XML you need to load your ",Object(i.b)("inlineCode",{parentName:"p"},"X509Certificate")," and ",Object(i.b)("inlineCode",{parentName:"p"},"PrivateKey")," using the method of your preference."),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'String xml; // This is comes from the example above\nString signID = "mySignID"; // Your Signature ID\n\n// Get your certificate using the method of your preference\nX509Certificate certificate;\nPrivateKey privateKey;\n\nDocument signedXML = XMLSigner.signXML(xml, signID, certificate, privateKey);\n')))}m.isMDXComponent=!0}}]);